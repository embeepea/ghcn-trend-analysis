$(document).ready(function() {

    function plot(varid, label, color) {
        return {
            "style": "pointline",
            "options": {
                "linecolor": color,
                "linewidth": "2",
                "pointshape": "circle",
                "pointoutlinewidth": "2",
                "pointoutlinecolor": color,
                "pointcolor": "0xffffff",
                "pointopacity": "1.0",
                "pointsize": "0"
            },
            "horizontalaxis": {"Time": "Time"},
            "verticalaxis": {"temp": varid},
            "legend": { "label": label }
        };
    }


    var plots = {
        "both-lines": [
            plot("minTemperature", "Min Temperature", "0x1329D1"),
            plot("maxTemperature", "Max Temperature", "0xD12913")
        ],
        "max-only": [
            plot("maxTemperature", "Max Temperature", "0xD12913")
        ],
        "both-rangebar": [{
            "style": "rangebar",
            "options": {
                "fillcolor": "0x0000ff",
                "linecolor": "0x000000",
                "linewidth": "1",
                "barwidth": "22H"
            },
            "horizontalaxis": {"Time": "Time"},
            "verticalaxis": {"temp": ["minTemperature", "maxTemperature"]},
            "legend": { "label": "Temperature Range" }
        }],
        "both-band": [{
            "style": "band",
            "options": {
                "fillcolor": "0xFFFFFF",
                "line1color": "0x1329D1",
                "line2color": "0xD12913",
                "linewidth": "2"
            },
            "horizontalaxis": {"Time": "Time"},
            "verticalaxis": {"temp": ["minTemperature", "maxTemperature"]},
            "legend": { "label": "Temperature Range" }
        }]
    };


    var data = {
        "variables": [
            {"column": 0, "id": "Time", "type": "datetime"},
            {"column": 1, "id": "minTemperature"},
            {"column": 2, "id": "maxTemperature"}
        ],
        "values": [["20150101",27.14,39.02],["20150102",35.06,42.08],["20150103",33.08,42.08],["20150104",41.0,55.94],["20150105",21.2,48.92],["20150106",19.22,22.1],["20150107",9.14,23.18],["20150108",8.240000000000002,21.2],["20150109",19.22,33.08],["20150110",16.16,23.18],["20150111",18.14,37.04],["20150112",35.06,39.02],["20150113",17.240000000000002,35.96],["20150114",16.16,32.0],["20150115",25.16,35.06],["20150116",20.12,42.980000000000004],["20150117",17.240000000000002,32.0],["20150118",31.1,42.08],["20150119",35.96,42.08],["20150120",32.0,39.92],["20150121",25.16,35.96],["20150122",31.1,39.92],["20150123",28.22,39.02],["20150124",33.08,39.02],["20150125",31.1,42.08],["20150126",22.1,31.1],["20150127",20.12,30.2],["20150128",16.16,33.98],["20150129",19.22,35.96],["20150130",19.22,37.94],["20150131",13.100000000000001,26.240000000000002],["20150201",20.12,35.96],["20150202",14.18,33.98],["20150203",13.100000000000001,26.240000000000002],["20150204",24.26,42.980000000000004],["20150205",14.18,42.08],["20150206",12.2,27.14],["20150207",25.16,39.92],["20150208",29.12,37.04],["20150209",25.16,29.12],["20150210",26.240000000000002,39.92],["20150211",22.1,33.98],["20150212",16.16,39.92],["20150213",8.240000000000002,21.2],["20150214",16.16,32.0],["20150215",4.100000000000001,25.16],["20150216",3.1999999999999993,21.2],["20150217",14.18,27.14],["20150218",19.22,33.08],["20150219",8.240000000000002,27.14],["20150220",2.1199999999999974,19.22],["20150221",13.100000000000001,32.0],["20150222",32.0,42.980000000000004],["20150223",8.240000000000002,37.94],["20150224",4.100000000000001,24.26],["20150225",20.12,37.04],["20150226",21.2,32.0],["20150227",18.14,30.2],["20150228",13.100000000000001,29.12],["20150301",24.26,31.1],["20150302",27.14,39.02],["20150303",22.1,37.04],["20150304",35.06,44.96],["20150305",19.22,39.92],["20150306",12.2,27.14],["20150307",18.14,37.94],["20150308",37.04,48.92],["20150309",39.92,53.96],["20150310",39.02,53.06],["20150311",44.06,59.0],["20150312",35.96,46.94],["20150313",31.1,42.980000000000004],["20150314",39.92,51.08],["20150315",35.96,44.06],["20150316",35.06,51.98],["20150317",33.98,57.02],["20150318",29.12,39.02],["20150319",29.12,42.980000000000004],["20150320",29.12,37.94],["20150321",29.12,46.94],["20150322",28.22,42.980000000000004],["20150323",23.18,37.94],["20150324",26.240000000000002,44.96],["20150325",33.98,48.92],["20150326",42.08,62.059999999999995],["20150327",39.02,46.04],["20150328",26.240000000000002,39.92],["20150329",25.16,46.04],["20150330",35.96,53.96],["20150331",35.06,46.94],["20150401",32.0,51.08],["20150402",41.0,66.92],["20150403",59.0,64.04],["20150404",42.08,60.08],["20150405",42.08,60.980000000000004],["20150406",42.08,62.959999999999994],["20150407",42.08,62.059999999999995],["20150408",37.04,44.96],["20150409",37.04,42.980000000000004],["20150410",39.02,55.94],["20150411",44.06,57.02],["20150412",42.980000000000004,66.02],["20150413",50.0,68.0],["20150414",55.04,64.94],["20150415",51.08,71.96],["20150416",51.98,64.04],["20150417",55.04,71.06],["20150418",59.0,80.06],["20150419",48.02,64.04],["20150420",46.04,57.02],["20150421",51.98,64.94],["20150422",48.02,69.08],["20150423",41.0,51.98],["20150424",39.02,51.98],["20150425",37.94,62.059999999999995],["20150426",46.04,64.04],["20150427",48.92,62.059999999999995],["20150428",50.0,71.06],["20150429",50.0,78.08],["20150430",48.02,66.92],["20150501",48.92,62.959999999999994],["20150502",48.02,73.94],["20150503",51.08,80.06],["20150504",57.02,84.91999999999999],["20150505",66.02,84.91999999999999],["20150506",59.0,73.04],["20150507",55.94,80.06],["20150508",55.94,82.04],["20150509",57.02,69.98],["20150510",60.980000000000004,82.94],["20150511",69.98,84.02],["20150512",64.04,86.0],["20150513",53.06,69.98],["20150514",50.0,73.04],["20150515",55.04,75.02],["20150516",57.02,75.02],["20150517",64.04,82.94],["20150518",60.08,75.02],["20150519",59.0,80.06],["20150520",53.96,66.92],["20150521",51.98,62.059999999999995],["20150522",55.04,73.94],["20150523",48.92,69.98],["20150524",55.94,80.96],["20150525",64.04,84.91999999999999],["20150526",66.92,87.98],["20150527",69.98,84.91999999999999],["20150528",69.98,84.91999999999999],["20150529",64.94,84.91999999999999]]
    };

    var mugl = {
        "window": {
            "border": 1,
            "bordercolor": "0x000000",
            "padding": 0,
            "margin": 0
        },
        "plotarea": {
            "marginbottom": 40,
            "margintop": 45,
            "marginleft": 38,
            "marginright": 15
        },
        "background": {
            "color": "0xFFFFFF"
        },
        "horizontalaxis": {
            "id": "Time",
            "type": "datetime",
            "length": "1",
            "base": [-1, -1],
            "anchor": -1,
            "min": "20150101",
            "max": "20150531",
            "tickmin": -5,
            "tickmax": 5,
            "title": {},
            "labels": {
                "format": "%d %n",
                "spacing": ["1M", "7D", "1D", "12H", "6H", "4H", "2H", "1H", "30m", "10m", "5m"],
                "position": [0, -10]
            },
            "grid": {
                "color": "0xC9C9C1"
            },
            "binding": {
                "id": "xBinding",
                "min": "201304111130",
                "max": "201304131130"
            }
        },
        "verticalaxis": {
            "id": "temp",
            "length": "1",
            "min": -5,
            "max": 90,
            "title": {
                "text": "Degrees Fahrenheit",
                "anchor": [0, 1],
                "position": [-30, 0],
                "angle": 90
            },
            "labels": {
                "format": "%.0f",
                "spacing": [100, 20, 10, 5, 2, 1, 0.5, 0.2, 0.1, 0.05, 0.02, 0.01],
                "start": 0,
                "anchor": [0, 0],
                "position": [-10, 0],
                "angle": 0
            },
            "grid": {
                "color": "0xC9C9C1"
            }
        },
        "plots": plots["both-rangebar"],
        "legend": {
            "visible": "true",
            "rows": 1,
            "border": 0,
            "opacity": 0,
            "anchor": [0, -1],
            "base": [0, 1]
        },
        "data": data
    };
    
    
    
    $("#graph").css({width: "800px", height: "500px"});

    $("#graph").multigraph({'muglString': mugl});

    console.log('boo!');
        
});


